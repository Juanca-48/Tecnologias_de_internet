<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Inter&display=swap" rel="stylesheet" />
    <link href="../css/index_no_iniciado.css" rel="stylesheet" />
    <title>ZonArte</title>
    
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <a href="index.html" class="logo">
                <img src="../images/Logo_Nombre.png" alt="ZonArte Logo" class="logo-img">
            </a>

            <!-- Barra de búsqueda centrada -->
            <div class="search-center">
                <div class="search-container">
                    <div class="search-bar">
                        <input type="text" class="search-input" placeholder="Buscar..." id="searchInput">
                    </div>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <div class="dropdown-title">Amigos</div>

                        <div class="suggestion-item">
                            <div class="suggestion-avatar">AC</div>
                            <div class="suggestion-info">
                                <div class="suggestion-name">Anderson Campos</div>
                                <div class="suggestion-role">Diseñador Gráfico</div>
                            </div>
                            <div class="suggestion-action">+</div>
                        </div>

                        <div class="suggestion-item">
                            <div class="suggestion-avatar">MC</div>
                            <div class="suggestion-info">
                                <div class="suggestion-name">María Contreras</div>
                                <div class="suggestion-role">Artista Digital</div>
                            </div>
                            <div class="suggestion-action">+</div>
                        </div>

                        <div class="dropdown-title">Personas</div>

                        <div class="suggestion-item">
                            <div class="suggestion-avatar">JR</div>
                            <div class="suggestion-info">
                                <div class="suggestion-name">Juan Rodriguez</div>
                                <div class="suggestion-role">Ilustrador</div>
                            </div>
                            <div class="suggestion-action">+</div>
                        </div>

                        <div class="suggestion-item">
                            <div class="suggestion-avatar">SP</div>
                            <div class="suggestion-info">
                                <div class="suggestion-name">Sofia Pereira</div>
                                <div class="suggestion-role">Fotógrafa</div>
                            </div>
                            <div class="suggestion-action">+</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navegación -->
            <nav class="nav-menu">
                <a href="index.html" class="nav-item active">Inicio</a>
                <a href="acerca.html" class="nav-item">Acerca de mi</a>
                <a href="servicios.html" class="nav-item">Servicios</a>
                <a href="social.html" class="nav-item">Social</a>
                <a href="contacto.html" class="nav-item">Contacto</a>
            </nav>

            <div class="profile-btn">
                <a href="perfil.html">
                    <img src="../images/Perfil.png" alt="Perfil" class="profile-img">
                </a>
            </div>

        </header>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Portfolio Grid reemplazado con inputs -->
            <section class="portfolio-section">
                <div class="portfolio-grid" id="gallery">
                    <div class="portfolio-item">
                        <input type="file" class="image-upload" accept="image/*">
                </div>
            </div>

            </section>

            <!-- Mi Trabajo -->
            <section id="trabajo" class="info-section">
                <h2 class="section-title">MI TRABAJO</h2>
                <p class="section-text">
                   
                </p>
            </section>

            <!-- Mi Proceso -->
            <section id="proceso" class="info-section">
                <h2 class="section-title">MI PROCESO</h2>
                <div class="process-grid">
                    <div class="process-item">Conceptualización</div>
                    <div class="process-item">Bocetos</div>
                    <div class="process-item">Desarrollo</div>
                    <div class="process-item">Finalización</div>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-text">Información legal</div>
            <div class="footer-links">
                <a href="#privacidad" class="footer-link">Privacidad</a>
                <a href="#terminos" class="footer-link">Términos</a>
                <a href="#cookies" class="footer-link">Cookies</a>
            </div>
        </footer>

    </div>

<script>
const gallery = document.getElementById("gallery");

function createUploadItem() {
    const div = document.createElement("div");
    div.classList.add("portfolio-item");

    const input = document.createElement("input");
    input.type = "file";
    input.accept = "image/*";
    input.classList.add("image-upload");

    // Evento al subir imagen
    input.addEventListener("change", handleImageUpload);

    div.appendChild(input);
    return div;
}

function handleImageUpload(event) {
    const input = event.target;

    if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = (e) => {
            const parent = input.parentElement;

            // Quitar imagen previa si existe
            const oldImg = parent.querySelector("img");
            if (oldImg) oldImg.remove();

            parent.classList.add("has-image");

            const img = document.createElement("img");
            img.src = e.target.result;
            parent.appendChild(img);

            // Crear automáticamente un nuevo slot vacío si no existe otro
            const emptySlots = document.querySelectorAll(".portfolio-item:not(.has-image)");
            if (emptySlots.length === 0) {
                gallery.appendChild(createUploadItem());
            }
        };
        reader.readAsDataURL(input.files[0]);
    }
}

// Activar manejador del primer input inicial
document.querySelector(".image-upload").addEventListener("change", handleImageUpload);
</script>

</body>
</html>